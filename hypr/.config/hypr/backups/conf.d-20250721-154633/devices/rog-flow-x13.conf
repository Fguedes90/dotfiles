# Configuração de Modo Clamshell ASUS Flow X13 - Versão Avançada
# Monitor externo centralizado ACIMA do notebook em modo dual
# Monitor externo como principal em modo clamshell
#
# Layout Dual Monitor:
#     ┌─────────────────┐
#     │  Monitor Ext.   │ <- Workspace 5
#     │   Secundário    │
#     └─────────────────┘
#           ┌─────┐
#           │ eDP │ <- Principal (workspaces 1-4)
#           └─────┘
#
# Layout Clamshell:
#     ┌─────────────────┐
#     │  Monitor Ext.   │ <- Todos workspaces (1-5)
#     │    Principal    │
#     └─────────────────┘

# ========================================
# BINDINGS PARA DETECÇÃO DE LID SWITCH
# ========================================

# Detectar quando lid é fechado
bindl = , switch:on:Lid Switch, exec, $HOME/.config/hypr/scripts/display/lid-switch.sh

# Detectar quando lid é aberto  
bindl = , switch:off:Lid Switch, exec, $HOME/.config/hypr/scripts/display/lid-switch.sh

# ========================================
# CONFIGURAÇÃO DE MONITORES DINÂMICA
# ========================================

# Monitor interno (laptop) - Scale 1.25 para melhor legibilidade
monitor = eDP-1, 1920x1200@120.00, auto, 1.25

# Monitores externos comuns (serão reconfigurados automaticamente)
monitor = DP-1, preferred, 0x0, auto
monitor = DP-2, preferred, 0x0, auto  
monitor = DP-3, preferred, 0x0, auto
monitor = DP-8, preferred, 0x0, auto
monitor = HDMI-A-1, preferred, 0x0, auto

# Fallback para monitores não detectados
monitor = , preferred, auto, auto

# ========================================
# WORKSPACES POR MONITOR (LIMITADO A 5)
# ========================================

# Incluir configuração de workspaces limitada
source = ~/.config/hypr/conf.d/workspaces.conf

# ========================================
# BINDINGS PARA GERENCIAMENTO DE MONITORES
# ========================================

# Alternar entre monitores
bind = SUPER, grave, focusmonitor, +1
bind = SUPER SHIFT, grave, movecurrentworkspacetomonitor, +1

# Mover janela para monitor específico
bind = SUPER ALT, Left, movewindow, mon:-1
bind = SUPER ALT, Right, movewindow, mon:+1

# Controle manual de modos
bind = SUPER CTRL, M, exec, $HOME/.config/hypr/scripts/display/clamshell.sh dual
bind = SUPER CTRL, C, exec, $HOME/.config/hypr/scripts/display/clamshell.sh clamshell  
bind = SUPER CTRL, S, exec, $HOME/.config/hypr/scripts/display/clamshell.sh single

# ========================================
# AUTOSTART PARA MONITORAMENTO
# ========================================

# Executar configuração inicial após 2 segundos
exec-once = sleep 2 && $HOME/.config/hypr/scripts/display/clamshell.sh auto

# ========================================
# NOTIFICAÇÕES PARA MUDANÇAS DE MONITOR
# ========================================

# Mostrar notificação quando modo de monitor muda (se mako estiver disponível)
bind = , XF86Display, exec, $HOME/.config/hypr/scripts/display/clamshell.sh auto
bind = SUPER, F7, exec, $HOME/.config/hypr/scripts/display/clamshell.sh auto && notify-send "Monitor" "Configuração atualizada" || true
